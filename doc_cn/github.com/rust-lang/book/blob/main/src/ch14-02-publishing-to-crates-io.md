{"payload":{"allShortcutsEnabled":false,"fileTree":{"src":{"items":[{"name":"img","path":"src/img","contentType":"directory"},{"name":"SUMMARY.md","path":"src/SUMMARY.md","contentType":"file"},{"name":"appendix-00.md","path":"src/appendix-00.md","contentType":"file"},{"name":"appendix-01-keywords.md","path":"src/appendix-01-keywords.md","contentType":"file"},{"name":"appendix-02-operators.md","path":"src/appendix-02-operators.md","contentType":"file"},{"name":"appendix-03-derivable-traits.md","path":"src/appendix-03-derivable-traits.md","contentType":"file"},{"name":"appendix-04-useful-development-tools.md","path":"src/appendix-04-useful-development-tools.md","contentType":"file"},{"name":"appendix-05-editions.md","path":"src/appendix-05-editions.md","contentType":"file"},{"name":"appendix-06-translation.md","path":"src/appendix-06-translation.md","contentType":"file"},{"name":"appendix-07-nightly-rust.md","path":"src/appendix-07-nightly-rust.md","contentType":"file"},{"name":"ch00-00-introduction.md","path":"src/ch00-00-introduction.md","contentType":"file"},{"name":"ch01-00-getting-started.md","path":"src/ch01-00-getting-started.md","contentType":"file"},{"name":"ch01-01-installation.md","path":"src/ch01-01-installation.md","contentType":"file"},{"name":"ch01-02-hello-world.md","path":"src/ch01-02-hello-world.md","contentType":"file"},{"name":"ch01-03-hello-cargo.md","path":"src/ch01-03-hello-cargo.md","contentType":"file"},{"name":"ch02-00-guessing-game-tutorial.md","path":"src/ch02-00-guessing-game-tutorial.md","contentType":"file"},{"name":"ch03-00-common-programming-concepts.md","path":"src/ch03-00-common-programming-concepts.md","contentType":"file"},{"name":"ch03-01-variables-and-mutability.md","path":"src/ch03-01-variables-and-mutability.md","contentType":"file"},{"name":"ch03-02-data-types.md","path":"src/ch03-02-data-types.md","contentType":"file"},{"name":"ch03-03-how-functions-work.md","path":"src/ch03-03-how-functions-work.md","contentType":"file"},{"name":"ch03-04-comments.md","path":"src/ch03-04-comments.md","contentType":"file"},{"name":"ch03-05-control-flow.md","path":"src/ch03-05-control-flow.md","contentType":"file"},{"name":"ch04-00-understanding-ownership.md","path":"src/ch04-00-understanding-ownership.md","contentType":"file"},{"name":"ch04-01-what-is-ownership.md","path":"src/ch04-01-what-is-ownership.md","contentType":"file"},{"name":"ch04-02-references-and-borrowing.md","path":"src/ch04-02-references-and-borrowing.md","contentType":"file"},{"name":"ch04-03-slices.md","path":"src/ch04-03-slices.md","contentType":"file"},{"name":"ch05-00-structs.md","path":"src/ch05-00-structs.md","contentType":"file"},{"name":"ch05-01-defining-structs.md","path":"src/ch05-01-defining-structs.md","contentType":"file"},{"name":"ch05-02-example-structs.md","path":"src/ch05-02-example-structs.md","contentType":"file"},{"name":"ch05-03-method-syntax.md","path":"src/ch05-03-method-syntax.md","contentType":"file"},{"name":"ch06-00-enums.md","path":"src/ch06-00-enums.md","contentType":"file"},{"name":"ch06-01-defining-an-enum.md","path":"src/ch06-01-defining-an-enum.md","contentType":"file"},{"name":"ch06-02-match.md","path":"src/ch06-02-match.md","contentType":"file"},{"name":"ch06-03-if-let.md","path":"src/ch06-03-if-let.md","contentType":"file"},{"name":"ch07-00-managing-growing-projects-with-packages-crates-and-modules.md","path":"src/ch07-00-managing-growing-projects-with-packages-crates-and-modules.md","contentType":"file"},{"name":"ch07-01-packages-and-crates.md","path":"src/ch07-01-packages-and-crates.md","contentType":"file"},{"name":"ch07-02-defining-modules-to-control-scope-and-privacy.md","path":"src/ch07-02-defining-modules-to-control-scope-and-privacy.md","contentType":"file"},{"name":"ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","path":"src/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","contentType":"file"},{"name":"ch07-04-bringing-paths-into-scope-with-the-use-keyword.md","path":"src/ch07-04-bringing-paths-into-scope-with-the-use-keyword.md","contentType":"file"},{"name":"ch07-05-separating-modules-into-different-files.md","path":"src/ch07-05-separating-modules-into-different-files.md","contentType":"file"},{"name":"ch08-00-common-collections.md","path":"src/ch08-00-common-collections.md","contentType":"file"},{"name":"ch08-01-vectors.md","path":"src/ch08-01-vectors.md","contentType":"file"},{"name":"ch08-02-strings.md","path":"src/ch08-02-strings.md","contentType":"file"},{"name":"ch08-03-hash-maps.md","path":"src/ch08-03-hash-maps.md","contentType":"file"},{"name":"ch09-00-error-handling.md","path":"src/ch09-00-error-handling.md","contentType":"file"},{"name":"ch09-01-unrecoverable-errors-with-panic.md","path":"src/ch09-01-unrecoverable-errors-with-panic.md","contentType":"file"},{"name":"ch09-02-recoverable-errors-with-result.md","path":"src/ch09-02-recoverable-errors-with-result.md","contentType":"file"},{"name":"ch09-03-to-panic-or-not-to-panic.md","path":"src/ch09-03-to-panic-or-not-to-panic.md","contentType":"file"},{"name":"ch10-00-generics.md","path":"src/ch10-00-generics.md","contentType":"file"},{"name":"ch10-01-syntax.md","path":"src/ch10-01-syntax.md","contentType":"file"},{"name":"ch10-02-traits.md","path":"src/ch10-02-traits.md","contentType":"file"},{"name":"ch10-03-lifetime-syntax.md","path":"src/ch10-03-lifetime-syntax.md","contentType":"file"},{"name":"ch11-00-testing.md","path":"src/ch11-00-testing.md","contentType":"file"},{"name":"ch11-01-writing-tests.md","path":"src/ch11-01-writing-tests.md","contentType":"file"},{"name":"ch11-02-running-tests.md","path":"src/ch11-02-running-tests.md","contentType":"file"},{"name":"ch11-03-test-organization.md","path":"src/ch11-03-test-organization.md","contentType":"file"},{"name":"ch12-00-an-io-project.md","path":"src/ch12-00-an-io-project.md","contentType":"file"},{"name":"ch12-01-accepting-command-line-arguments.md","path":"src/ch12-01-accepting-command-line-arguments.md","contentType":"file"},{"name":"ch12-02-reading-a-file.md","path":"src/ch12-02-reading-a-file.md","contentType":"file"},{"name":"ch12-03-improving-error-handling-and-modularity.md","path":"src/ch12-03-improving-error-handling-and-modularity.md","contentType":"file"},{"name":"ch12-04-testing-the-librarys-functionality.md","path":"src/ch12-04-testing-the-librarys-functionality.md","contentType":"file"},{"name":"ch12-05-working-with-environment-variables.md","path":"src/ch12-05-working-with-environment-variables.md","contentType":"file"},{"name":"ch12-06-writing-to-stderr-instead-of-stdout.md","path":"src/ch12-06-writing-to-stderr-instead-of-stdout.md","contentType":"file"},{"name":"ch13-00-functional-features.md","path":"src/ch13-00-functional-features.md","contentType":"file"},{"name":"ch13-01-closures.md","path":"src/ch13-01-closures.md","contentType":"file"},{"name":"ch13-02-iterators.md","path":"src/ch13-02-iterators.md","contentType":"file"},{"name":"ch13-03-improving-our-io-project.md","path":"src/ch13-03-improving-our-io-project.md","contentType":"file"},{"name":"ch13-04-performance.md","path":"src/ch13-04-performance.md","contentType":"file"},{"name":"ch14-00-more-about-cargo.md","path":"src/ch14-00-more-about-cargo.md","contentType":"file"},{"name":"ch14-01-release-profiles.md","path":"src/ch14-01-release-profiles.md","contentType":"file"},{"name":"ch14-02-publishing-to-crates-io.md","path":"src/ch14-02-publishing-to-crates-io.md","contentType":"file"},{"name":"ch14-03-cargo-workspaces.md","path":"src/ch14-03-cargo-workspaces.md","contentType":"file"},{"name":"ch14-04-installing-binaries.md","path":"src/ch14-04-installing-binaries.md","contentType":"file"},{"name":"ch14-05-extending-cargo.md","path":"src/ch14-05-extending-cargo.md","contentType":"file"},{"name":"ch15-00-smart-pointers.md","path":"src/ch15-00-smart-pointers.md","contentType":"file"},{"name":"ch15-01-box.md","path":"src/ch15-01-box.md","contentType":"file"},{"name":"ch15-02-deref.md","path":"src/ch15-02-deref.md","contentType":"file"},{"name":"ch15-03-drop.md","path":"src/ch15-03-drop.md","contentType":"file"},{"name":"ch15-04-rc.md","path":"src/ch15-04-rc.md","contentType":"file"},{"name":"ch15-05-interior-mutability.md","path":"src/ch15-05-interior-mutability.md","contentType":"file"},{"name":"ch15-06-reference-cycles.md","path":"src/ch15-06-reference-cycles.md","contentType":"file"},{"name":"ch16-00-concurrency.md","path":"src/ch16-00-concurrency.md","contentType":"file"},{"name":"ch16-01-threads.md","path":"src/ch16-01-threads.md","contentType":"file"},{"name":"ch16-02-message-passing.md","path":"src/ch16-02-message-passing.md","contentType":"file"},{"name":"ch16-03-shared-state.md","path":"src/ch16-03-shared-state.md","contentType":"file"},{"name":"ch16-04-extensible-concurrency-sync-and-send.md","path":"src/ch16-04-extensible-concurrency-sync-and-send.md","contentType":"file"},{"name":"ch17-00-oop.md","path":"src/ch17-00-oop.md","contentType":"file"},{"name":"ch17-01-what-is-oo.md","path":"src/ch17-01-what-is-oo.md","contentType":"file"},{"name":"ch17-02-trait-objects.md","path":"src/ch17-02-trait-objects.md","contentType":"file"},{"name":"ch17-03-oo-design-patterns.md","path":"src/ch17-03-oo-design-patterns.md","contentType":"file"},{"name":"ch18-00-patterns.md","path":"src/ch18-00-patterns.md","contentType":"file"},{"name":"ch18-01-all-the-places-for-patterns.md","path":"src/ch18-01-all-the-places-for-patterns.md","contentType":"file"},{"name":"ch18-02-refutability.md","path":"src/ch18-02-refutability.md","contentType":"file"},{"name":"ch18-03-pattern-syntax.md","path":"src/ch18-03-pattern-syntax.md","contentType":"file"},{"name":"ch19-00-advanced-features.md","path":"src/ch19-00-advanced-features.md","contentType":"file"},{"name":"ch19-01-unsafe-rust.md","path":"src/ch19-01-unsafe-rust.md","contentType":"file"},{"name":"ch19-03-advanced-traits.md","path":"src/ch19-03-advanced-traits.md","contentType":"file"},{"name":"ch19-04-advanced-types.md","path":"src/ch19-04-advanced-types.md","contentType":"file"},{"name":"ch19-05-advanced-functions-and-closures.md","path":"src/ch19-05-advanced-functions-and-closures.md","contentType":"file"},{"name":"ch19-06-macros.md","path":"src/ch19-06-macros.md","contentType":"file"},{"name":"ch20-00-final-project-a-web-server.md","path":"src/ch20-00-final-project-a-web-server.md","contentType":"file"},{"name":"ch20-01-single-threaded.md","path":"src/ch20-01-single-threaded.md","contentType":"file"},{"name":"ch20-02-multithreaded.md","path":"src/ch20-02-multithreaded.md","contentType":"file"},{"name":"ch20-03-graceful-shutdown-and-cleanup.md","path":"src/ch20-03-graceful-shutdown-and-cleanup.md","contentType":"file"},{"name":"foreword.md","path":"src/foreword.md","contentType":"file"},{"name":"title-page.md","path":"src/title-page.md","contentType":"file"}],"totalCount":106},"":{"items":[{"name":".cargo","path":".cargo","contentType":"directory"},{"name":".github","path":".github","contentType":"directory"},{"name":"2018-edition","path":"2018-edition","contentType":"directory"},{"name":"ci","path":"ci","contentType":"directory"},{"name":"dot","path":"dot","contentType":"directory"},{"name":"first-edition","path":"first-edition","contentType":"directory"},{"name":"listings","path":"listings","contentType":"directory"},{"name":"nostarch","path":"nostarch","contentType":"directory"},{"name":"redirects","path":"redirects","contentType":"directory"},{"name":"second-edition","path":"second-edition","contentType":"directory"},{"name":"src","path":"src","contentType":"directory"},{"name":"theme","path":"theme","contentType":"directory"},{"name":"tools","path":"tools","contentType":"directory"},{"name":".gitattributes","path":".gitattributes","contentType":"file"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"ADMIN_TASKS.md","path":"ADMIN_TASKS.md","contentType":"file"},{"name":"CONTRIBUTING.md","path":"CONTRIBUTING.md","contentType":"file"},{"name":"COPYRIGHT","path":"COPYRIGHT","contentType":"file"},{"name":"Cargo.lock","path":"Cargo.lock","contentType":"file"},{"name":"Cargo.toml","path":"Cargo.toml","contentType":"file"},{"name":"LICENSE-APACHE","path":"LICENSE-APACHE","contentType":"file"},{"name":"LICENSE-MIT","path":"LICENSE-MIT","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"TODO.md","path":"TODO.md","contentType":"file"},{"name":"book.toml","path":"book.toml","contentType":"file"},{"name":"ferris.css","path":"ferris.css","contentType":"file"},{"name":"ferris.js","path":"ferris.js","contentType":"file"},{"name":"rust-toolchain","path":"rust-toolchain","contentType":"file"},{"name":"rustfmt.toml","path":"rustfmt.toml","contentType":"file"},{"name":"style-guide.md","path":"style-guide.md","contentType":"file"}],"totalCount":30}},"fileTreeProcessingTime":13.828569,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":47854924,"defaultBranch":"main","name":"book","ownerLogin":"rust-lang","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2015-12-11T22:49:49.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/5430905?v=4","public":true,"private":false,"isOrgOwned":true},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1688046669.0","canEdit":false,"refType":"branch","currentOid":"72187f5cd0beaaa9c6f584156bcd88f921871e83"},"path":"src/ch14-02-publishing-to-crates-io.md","currentUser":null,"blob":{"rawLines":null,"stylingDirectives":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/rust-lang/book/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/rust-lang/book/security/dependabot","repoSecurityAndAnalysisPath":"/rust-lang/book/settings/security_analysis","repoOwnerIsOrg":true,"currentUserCanAdminRepo":false},"displayName":"ch14-02-publishing-to-crates-io.md","displayUrl":"https://github.com/rust-lang/book/blob/main/src/ch14-02-publishing-to-crates-io.md?raw=true","headerInfo":{"blobSize":"20.3 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"c5b1ac7","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Fbook%2Fblob%2Fmain%2Fsrc%2Fch14-02-publishing-to-crates-io.md","isCSV":false,"isRichtext":true,"toc":[{"level":2,"text":"Publishing a Crate to Crates.io","anchor":"publishing-a-crate-to-cratesio","htmlText":"Publishing a Crate to Crates.io"},{"level":3,"text":"Making Useful Documentation Comments","anchor":"making-useful-documentation-comments","htmlText":"Making Useful Documentation Comments"},{"level":4,"text":"Commonly Used Sections","anchor":"commonly-used-sections","htmlText":"Commonly Used Sections"},{"level":4,"text":"Documentation Comments as Tests","anchor":"documentation-comments-as-tests","htmlText":"Documentation Comments as Tests"},{"level":4,"text":"Commenting Contained Items","anchor":"commenting-contained-items","htmlText":"Commenting Contained Items"},{"level":3,"text":"Exporting a Convenient Public API with pub use","anchor":"exporting-a-convenient-public-api-with-pub-use","htmlText":"Exporting a Convenient Public API with pub use"},{"level":3,"text":"Setting Up a Crates.io Account","anchor":"setting-up-a-cratesio-account","htmlText":"Setting Up a Crates.io Account"},{"level":3,"text":"Adding Metadata to a New Crate","anchor":"adding-metadata-to-a-new-crate","htmlText":"Adding Metadata to a New Crate"},{"level":3,"text":"Publishing to Crates.io","anchor":"publishing-to-cratesio","htmlText":"Publishing to Crates.io"},{"level":3,"text":"Publishing a New Version of an Existing Crate","anchor":"publishing-a-new-version-of-an-existing-crate","htmlText":"Publishing a New Version of an Existing Crate"},{"level":3,"text":"Deprecating Versions from Crates.io with cargo yank","anchor":"deprecating-versions-from-cratesio-with-cargo-yank","htmlText":"Deprecating Versions from Crates.io with cargo yank"}],"lineInfo":{"truncatedLoc":"469","truncatedSloc":"362"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Markdown","languageID":222,"large":false,"loggedIn":false,"newDiscussionPath":"/rust-lang/book/discussions/new","newIssuePath":"/rust-lang/book/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/rust-lang/book/blob/main/src/ch14-02-publishing-to-crates-io.md","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/rust-lang/book/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"renderImageOrRaw":false,"richText":"<article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h2 tabindex=\"-1\" id=\"user-content-publishing-a-crate-to-cratesio\" dir=\"auto\"><a class=\"heading-link\" href=\"#publishing-a-crate-to-cratesio\">Publishing a Crate to Crates.io<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h2>\n<p dir=\"auto\">We’ve used packages from <a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> as\ndependencies of our project, but you can also share your code with other people\nby publishing your own packages. The crate registry at\n<a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> distributes the source code of\nyour packages, so it primarily hosts code that is open source.</p>\n<p dir=\"auto\">Rust and Cargo have features that make your published package easier for people\nto find and use. We’ll talk about some of these features next and then explain\nhow to publish a package.</p>\n<h3 tabindex=\"-1\" id=\"user-content-making-useful-documentation-comments\" dir=\"auto\"><a class=\"heading-link\" href=\"#making-useful-documentation-comments\">Making Useful Documentation Comments<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">Accurately documenting your packages will help other users know how and when to\nuse them, so it’s worth investing the time to write documentation. In Chapter\n3, we discussed how to comment Rust code using two slashes, <code>//</code>. Rust also has\na particular kind of comment for documentation, known conveniently as a\n<em>documentation comment</em>, that will generate HTML documentation. The HTML\ndisplays the contents of documentation comments for public API items intended\nfor programmers interested in knowing how to <em>use</em> your crate as opposed to how\nyour crate is <em>implemented</em>.</p>\n<p dir=\"auto\">Documentation comments use three slashes, <code>///</code>, instead of two and support\nMarkdown notation for formatting the text. Place documentation comments just\nbefore the item they’re documenting. Listing 14-1 shows documentation comments\nfor an <code>add_one</code> function in a crate named <code>my_crate</code>.</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch14-more-about-cargo/listing-14-01/src/lib.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch14-more-about-cargo/listing-<span class=\"pl-c1\">14</span>-<span class=\"pl-c1\">01</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 14-1: A documentation comment for a\nfunction</span></p>\n<p dir=\"auto\">Here, we give a description of what the <code>add_one</code> function does, start a\nsection with the heading <code>Examples</code>, and then provide code that demonstrates\nhow to use the <code>add_one</code> function. We can generate the HTML documentation from\nthis documentation comment by running <code>cargo doc</code>. This command runs the\n<code>rustdoc</code> tool distributed with Rust and puts the generated HTML documentation\nin the <em>target/doc</em> directory.</p>\n<p dir=\"auto\">For convenience, running <code>cargo doc --open</code> will build the HTML for your\ncurrent crate’s documentation (as well as the documentation for all of your\ncrate’s dependencies) and open the result in a web browser. Navigate to the\n<code>add_one</code> function and you’ll see how the text in the documentation comments is\nrendered, as shown in Figure 14-1:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/rust-lang/book/blob/main/src/img/trpl14-01.png\"><img alt=\"Rendered HTML documentation for the `add_one` function of `my_crate`\" src=\"/rust-lang/book/raw/main/src/img/trpl14-01.png\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><span>Figure 14-1: HTML documentation for the <code>add_one</code>\nfunction</span></p>\n<h4 tabindex=\"-1\" id=\"user-content-commonly-used-sections\" dir=\"auto\"><a class=\"heading-link\" href=\"#commonly-used-sections\">Commonly Used Sections<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h4>\n<p dir=\"auto\">We used the <code># Examples</code> Markdown heading in Listing 14-1 to create a section\nin the HTML with the title “Examples.” Here are some other sections that crate\nauthors commonly use in their documentation:</p>\n<ul dir=\"auto\">\n<li><strong>Panics</strong>: The scenarios in which the function being documented could\npanic. Callers of the function who don’t want their programs to panic should\nmake sure they don’t call the function in these situations.</li>\n<li><strong>Errors</strong>: If the function returns a <code>Result</code>, describing the kinds of\nerrors that might occur and what conditions might cause those errors to be\nreturned can be helpful to callers so they can write code to handle the\ndifferent kinds of errors in different ways.</li>\n<li><strong>Safety</strong>: If the function is <code>unsafe</code> to call (we discuss unsafety in\nChapter 19), there should be a section explaining why the function is unsafe\nand covering the invariants that the function expects callers to uphold.</li>\n</ul>\n<p dir=\"auto\">Most documentation comments don’t need all of these sections, but this is a\ngood checklist to remind you of the aspects of your code users will be\ninterested in knowing about.</p>\n<h4 tabindex=\"-1\" id=\"user-content-documentation-comments-as-tests\" dir=\"auto\"><a class=\"heading-link\" href=\"#documentation-comments-as-tests\">Documentation Comments as Tests<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h4>\n<p dir=\"auto\">Adding example code blocks in your documentation comments can help demonstrate\nhow to use your library, and doing so has an additional bonus: running <code>cargo test</code> will run the code examples in your documentation as tests! Nothing is\nbetter than documentation with examples. But nothing is worse than examples\nthat don’t work because the code has changed since the documentation was\nwritten. If we run <code>cargo test</code> with the documentation for the <code>add_one</code>\nfunction from Listing 14-1, we will see a section in the test results like this:</p>\n\n<div class=\"snippet-clipboard-content notranslate position-relative overflow-auto\" data-snippet-clipboard-copy-content=\"   Doc-tests my_crate\n\nrunning 1 test\ntest src/lib.rs - add_one (line 5) ... ok\n\ntest result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.27s\"><pre lang=\"text\" class=\"notranslate\"><code>   Doc-tests my_crate\n\nrunning 1 test\ntest src/lib.rs - add_one (line 5) ... ok\n\ntest result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.27s\n</code></pre></div>\n<p dir=\"auto\">Now if we change either the function or the example so the <code>assert_eq!</code> in the\nexample panics and run <code>cargo test</code> again, we’ll see that the doc tests catch\nthat the example and the code are out of sync with each other!</p>\n<h4 tabindex=\"-1\" id=\"user-content-commenting-contained-items\" dir=\"auto\"><a class=\"heading-link\" href=\"#commenting-contained-items\">Commenting Contained Items<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h4>\n<p dir=\"auto\">The style of doc comment <code>//!</code> adds documentation to the item that contains the\ncomments rather than to the items following the comments. We typically use\nthese doc comments inside the crate root file (<em>src/lib.rs</em> by convention) or\ninside a module to document the crate or the module as a whole.</p>\n<p dir=\"auto\">For example, to add documentation that describes the purpose of the <code>my_crate</code>\ncrate that contains the <code>add_one</code> function, we add documentation comments that\nstart with <code>//!</code> to the beginning of the <em>src/lib.rs</em> file, as shown in Listing\n14-2:</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch14-more-about-cargo/listing-14-02/src/lib.rs:here}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch14-more-about-cargo/listing-<span class=\"pl-c1\">14</span>-<span class=\"pl-c1\">02</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">:</span>here<span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 14-2: Documentation for the <code>my_crate</code> crate as a\nwhole</span></p>\n<p dir=\"auto\">Notice there isn’t any code after the last line that begins with <code>//!</code>. Because\nwe started the comments with <code>//!</code> instead of <code>///</code>, we’re documenting the item\nthat contains this comment rather than an item that follows this comment. In\nthis case, that item is the <em>src/lib.rs</em> file, which is the crate root. These\ncomments describe the entire crate.</p>\n<p dir=\"auto\">When we run <code>cargo doc --open</code>, these comments will display on the front\npage of the documentation for <code>my_crate</code> above the list of public items in the\ncrate, as shown in Figure 14-2:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/rust-lang/book/blob/main/src/img/trpl14-02.png\"><img alt=\"Rendered HTML documentation with a comment for the crate as a whole\" src=\"/rust-lang/book/raw/main/src/img/trpl14-02.png\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><span>Figure 14-2: Rendered documentation for <code>my_crate</code>,\nincluding the comment describing the crate as a whole</span></p>\n<p dir=\"auto\">Documentation comments within items are useful for describing crates and\nmodules especially. Use them to explain the overall purpose of the container to\nhelp your users understand the crate’s organization.</p>\n<h3 tabindex=\"-1\" id=\"user-content-exporting-a-convenient-public-api-with-pub-use\" dir=\"auto\"><a class=\"heading-link\" href=\"#exporting-a-convenient-public-api-with-pub-use\">Exporting a Convenient Public API with <code>pub use</code><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">The structure of your public API is a major consideration when publishing a\ncrate. People who use your crate are less familiar with the structure than you\nare and might have difficulty finding the pieces they want to use if your crate\nhas a large module hierarchy.</p>\n<p dir=\"auto\">In Chapter 7, we covered how to make items public using the <code>pub</code> keyword, and\nbring items into a scope with the <code>use</code> keyword. However, the structure that\nmakes sense to you while you’re developing a crate might not be very convenient\nfor your users. You might want to organize your structs in a hierarchy\ncontaining multiple levels, but then people who want to use a type you’ve\ndefined deep in the hierarchy might have trouble finding out that type exists.\nThey might also be annoyed at having to enter <code>use</code>\n<code>my_crate::some_module::another_module::UsefulType;</code> rather than <code>use</code>\n<code>my_crate::UsefulType;</code>.</p>\n<p dir=\"auto\">The good news is that if the structure <em>isn’t</em> convenient for others to use\nfrom another library, you don’t have to rearrange your internal organization:\ninstead, you can re-export items to make a public structure that’s different\nfrom your private structure by using <code>pub use</code>. Re-exporting takes a public\nitem in one location and makes it public in another location, as if it were\ndefined in the other location instead.</p>\n<p dir=\"auto\">For example, say we made a library named <code>art</code> for modeling artistic concepts.\nWithin this library are two modules: a <code>kinds</code> module containing two enums\nnamed <code>PrimaryColor</code> and <code>SecondaryColor</code> and a <code>utils</code> module containing a\nfunction named <code>mix</code>, as shown in Listing 14-3:</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch14-more-about-cargo/listing-14-03/src/lib.rs:here}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch14-more-about-cargo/listing-<span class=\"pl-c1\">14</span>-<span class=\"pl-c1\">03</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">:</span>here<span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 14-3: An <code>art</code> library with items organized into\n<code>kinds</code> and <code>utils</code> modules</span></p>\n<p dir=\"auto\">Figure 14-3 shows what the front page of the documentation for this crate\ngenerated by <code>cargo doc</code> would look like:</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/rust-lang/book/blob/main/src/img/trpl14-03.png\"><img alt=\"Rendered documentation for the `art` crate that lists the `kinds` and `utils` modules\" src=\"/rust-lang/book/raw/main/src/img/trpl14-03.png\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><span>Figure 14-3: Front page of the documentation for <code>art</code>\nthat lists the <code>kinds</code> and <code>utils</code> modules</span></p>\n<p dir=\"auto\">Note that the <code>PrimaryColor</code> and <code>SecondaryColor</code> types aren’t listed on the\nfront page, nor is the <code>mix</code> function. We have to click <code>kinds</code> and <code>utils</code> to\nsee them.</p>\n<p dir=\"auto\">Another crate that depends on this library would need <code>use</code> statements that\nbring the items from <code>art</code> into scope, specifying the module structure that’s\ncurrently defined. Listing 14-4 shows an example of a crate that uses the\n<code>PrimaryColor</code> and <code>mix</code> items from the <code>art</code> crate:</p>\n<p dir=\"auto\"><span>Filename: src/main.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch14-more-about-cargo/listing-14-04/src/main.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch14-more-about-cargo/listing-<span class=\"pl-c1\">14</span>-<span class=\"pl-c1\">04</span>/src/main<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 14-4: A crate using the <code>art</code> crate’s items with\nits internal structure exported</span></p>\n<p dir=\"auto\">The author of the code in Listing 14-4, which uses the <code>art</code> crate, had to\nfigure out that <code>PrimaryColor</code> is in the <code>kinds</code> module and <code>mix</code> is in the\n<code>utils</code> module. The module structure of the <code>art</code> crate is more relevant to\ndevelopers working on the <code>art</code> crate than to those using it. The internal\nstructure doesn’t contain any useful information for someone trying to\nunderstand how to use the <code>art</code> crate, but rather causes confusion because\ndevelopers who use it have to figure out where to look, and must specify the\nmodule names in the <code>use</code> statements.</p>\n<p dir=\"auto\">To remove the internal organization from the public API, we can modify the\n<code>art</code> crate code in Listing 14-3 to add <code>pub use</code> statements to re-export the\nitems at the top level, as shown in Listing 14-5:</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch14-more-about-cargo/listing-14-05/src/lib.rs:here}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch14-more-about-cargo/listing-<span class=\"pl-c1\">14</span>-<span class=\"pl-c1\">05</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">:</span>here<span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 14-5: Adding <code>pub use</code> statements to re-export\nitems</span></p>\n<p dir=\"auto\">The API documentation that <code>cargo doc</code> generates for this crate will now list\nand link re-exports on the front page, as shown in Figure 14-4, making the\n<code>PrimaryColor</code> and <code>SecondaryColor</code> types and the <code>mix</code> function easier to find.</p>\n<p dir=\"auto\"><a target=\"_blank\" rel=\"noopener noreferrer\" href=\"/rust-lang/book/blob/main/src/img/trpl14-04.png\"><img alt=\"Rendered documentation for the `art` crate with the re-exports on the front page\" src=\"/rust-lang/book/raw/main/src/img/trpl14-04.png\" style=\"max-width: 100%;\"></a></p>\n<p dir=\"auto\"><span>Figure 14-4: The front page of the documentation for <code>art</code>\nthat lists the re-exports</span></p>\n<p dir=\"auto\">The <code>art</code> crate users can still see and use the internal structure from Listing\n14-3 as demonstrated in Listing 14-4, or they can use the more convenient\nstructure in Listing 14-5, as shown in Listing 14-6:</p>\n<p dir=\"auto\"><span>Filename: src/main.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch14-more-about-cargo/listing-14-06/src/main.rs:here}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch14-more-about-cargo/listing-<span class=\"pl-c1\">14</span>-<span class=\"pl-c1\">06</span>/src/main<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">:</span>here<span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 14-6: A program using the re-exported items from\nthe <code>art</code> crate</span></p>\n<p dir=\"auto\">In cases where there are many nested modules, re-exporting the types at the top\nlevel with <code>pub use</code> can make a significant difference in the experience of\npeople who use the crate. Another common use of <code>pub use</code> is to re-export\ndefinitions of a dependency in the current crate to make that crate's\ndefinitions part of your crate’s public API.</p>\n<p dir=\"auto\">Creating a useful public API structure is more of an art than a science, and\nyou can iterate to find the API that works best for your users. Choosing <code>pub use</code> gives you flexibility in how you structure your crate internally and\ndecouples that internal structure from what you present to your users. Look at\nsome of the code of crates you’ve installed to see if their internal structure\ndiffers from their public API.</p>\n<h3 tabindex=\"-1\" id=\"user-content-setting-up-a-cratesio-account\" dir=\"auto\"><a class=\"heading-link\" href=\"#setting-up-a-cratesio-account\">Setting Up a Crates.io Account<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">Before you can publish any crates, you need to create an account on\n<a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> and get an API token. To do so,\nvisit the home page at <a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> and log\nin via a GitHub account. (The GitHub account is currently a requirement, but\nthe site might support other ways of creating an account in the future.) Once\nyou’re logged in, visit your account settings at\n<a href=\"https://crates.io/me/\" rel=\"nofollow\">https://crates.io/me/</a> and retrieve your\nAPI key. Then run the <code>cargo login</code> command with your API key, like this:</p>\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ cargo login abcdefghijklmnopqrstuvwxyz012345\"><pre>$ <span class=\"pl-s1\">cargo login abcdefghijklmnopqrstuvwxyz012345</span></pre></div>\n<p dir=\"auto\">This command will inform Cargo of your API token and store it locally in\n<em>~/.cargo/credentials</em>. Note that this token is a <em>secret</em>: do not share it\nwith anyone else. If you do share it with anyone for any reason, you should\nrevoke it and generate a new token on <a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a>.</p>\n<h3 tabindex=\"-1\" id=\"user-content-adding-metadata-to-a-new-crate\" dir=\"auto\"><a class=\"heading-link\" href=\"#adding-metadata-to-a-new-crate\">Adding Metadata to a New Crate<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">Let’s say you have a crate you want to publish. Before publishing, you’ll need\nto add some metadata in the <code>[package]</code> section of the crate’s <em>Cargo.toml</em>\nfile.</p>\n<p dir=\"auto\">Your crate will need a unique name. While you’re working on a crate locally,\nyou can name a crate whatever you’d like. However, crate names on\n<a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> are allocated on a first-come,\nfirst-served basis. Once a crate name is taken, no one else can publish a crate\nwith that name. Before attempting to publish a crate, search for the name you\nwant to use. If the name has been used, you will need to find another name and\nedit the <code>name</code> field in the <em>Cargo.toml</em> file under the <code>[package]</code> section to\nuse the new name for publishing, like so:</p>\n<p dir=\"auto\"><span>Filename: Cargo.toml</span></p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"[package]\nname = &quot;guessing_game&quot;\"><pre>[<span class=\"pl-en\">package</span>]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>guessing_game<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">Even if you’ve chosen a unique name, when you run <code>cargo publish</code> to publish\nthe crate at this point, you’ll get a warning and then an error:</p>\n\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ cargo publish\n    Updating crates.io index\nwarning: manifest has no description, license, license-file, documentation, homepage or repository.\nSee https://doc.rust-lang.org/cargo/reference/manifest.html#package-metadata for more info.\n--snip--\nerror: failed to publish to registry at https://crates.io\n\nCaused by:\n  the remote server responded with an error: missing or empty metadata fields: description, license. Please see https://doc.rust-lang.org/cargo/reference/manifest.html for how to upload metadata\"><pre>$ <span class=\"pl-s1\">cargo publish</span>\n<span class=\"pl-c1\">    Updating crates.io index</span>\n<span class=\"pl-c1\">warning: manifest has no description, license, license-file, documentation, homepage or repository.</span>\n<span class=\"pl-c1\">See https://doc.rust-lang.org/cargo/reference/manifest.html#package-metadata for more info.</span>\n<span class=\"pl-c1\">--snip--</span>\n<span class=\"pl-c1\">error: failed to publish to registry at https://crates.io</span>\n\n<span class=\"pl-c1\">Caused by:</span>\n<span class=\"pl-c1\">  the remote server responded with an error: missing or empty metadata fields: description, license. Please see https://doc.rust-lang.org/cargo/reference/manifest.html for how to upload metadata</span></pre></div>\n<p dir=\"auto\">This errors because you’re missing some crucial information: a description and\nlicense are required so people will know what your crate does and under what\nterms they can use it. In <em>Cargo.toml</em>, add a description that's just a\nsentence or two, because it will appear with your crate in search results. For\nthe <code>license</code> field, you need to give a <em>license identifier value</em>. The <a href=\"http://spdx.org/licenses/\" rel=\"nofollow\">Linux\nFoundation’s Software Package Data Exchange (SPDX)</a> lists the identifiers\nyou can use for this value. For example, to specify that you’ve licensed your\ncrate using the MIT License, add the <code>MIT</code> identifier:</p>\n<p dir=\"auto\"><span>Filename: Cargo.toml</span></p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"[package]\nname = &quot;guessing_game&quot;\nlicense = &quot;MIT&quot;\"><pre>[<span class=\"pl-en\">package</span>]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>guessing_game<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">license</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MIT<span class=\"pl-pds\">\"</span></span></pre></div>\n<p dir=\"auto\">If you want to use a license that doesn’t appear in the SPDX, you need to place\nthe text of that license in a file, include the file in your project, and then\nuse <code>license-file</code> to specify the name of that file instead of using the\n<code>license</code> key.</p>\n<p dir=\"auto\">Guidance on which license is appropriate for your project is beyond the scope\nof this book. Many people in the Rust community license their projects in the\nsame way as Rust by using a dual license of <code>MIT OR Apache-2.0</code>. This practice\ndemonstrates that you can also specify multiple license identifiers separated\nby <code>OR</code> to have multiple licenses for your project.</p>\n<p dir=\"auto\">With a unique name, the version, your description, and a license added, the\n<em>Cargo.toml</em> file for a project that is ready to publish might look like this:</p>\n<p dir=\"auto\"><span>Filename: Cargo.toml</span></p>\n<div class=\"highlight highlight-source-toml notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"[package]\nname = &quot;guessing_game&quot;\nversion = &quot;0.1.0&quot;\nedition = &quot;2021&quot;\ndescription = &quot;A fun game where you guess what number the computer has chosen.&quot;\nlicense = &quot;MIT OR Apache-2.0&quot;\n\n[dependencies]\"><pre>[<span class=\"pl-en\">package</span>]\n<span class=\"pl-smi\">name</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>guessing_game<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">version</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>0.1.0<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">edition</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>2021<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">description</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>A fun game where you guess what number the computer has chosen.<span class=\"pl-pds\">\"</span></span>\n<span class=\"pl-smi\">license</span> = <span class=\"pl-s\"><span class=\"pl-pds\">\"</span>MIT OR Apache-2.0<span class=\"pl-pds\">\"</span></span>\n\n[<span class=\"pl-en\">dependencies</span>]</pre></div>\n<p dir=\"auto\"><a href=\"https://doc.rust-lang.org/cargo/\" rel=\"nofollow\">Cargo’s documentation</a> describes other\nmetadata you can specify to ensure others can discover and use your crate more\neasily.</p>\n<h3 tabindex=\"-1\" id=\"user-content-publishing-to-cratesio\" dir=\"auto\"><a class=\"heading-link\" href=\"#publishing-to-cratesio\">Publishing to Crates.io<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">Now that you’ve created an account, saved your API token, chosen a name for\nyour crate, and specified the required metadata, you’re ready to publish!\nPublishing a crate uploads a specific version to\n<a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> for others to use.</p>\n<p dir=\"auto\">Be careful, because a publish is <em>permanent</em>. The version can never be\noverwritten, and the code cannot be deleted. One major goal of\n<a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> is to act as a permanent archive\nof code so that builds of all projects that depend on crates from\n<a href=\"https://crates.io/\" rel=\"nofollow\">crates.io</a> will continue to work. Allowing\nversion deletions would make fulfilling that goal impossible. However, there is\nno limit to the number of crate versions you can publish.</p>\n<p dir=\"auto\">Run the <code>cargo publish</code> command again. It should succeed now:</p>\n\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ cargo publish\n    Updating crates.io index\n   Packaging guessing_game v0.1.0 (file:///projects/guessing_game)\n   Verifying guessing_game v0.1.0 (file:///projects/guessing_game)\n   Compiling guessing_game v0.1.0\n(file:///projects/guessing_game/target/package/guessing_game-0.1.0)\n    Finished dev [unoptimized + debuginfo] target(s) in 0.19s\n   Uploading guessing_game v0.1.0 (file:///projects/guessing_game)\"><pre>$ <span class=\"pl-s1\">cargo publish</span>\n<span class=\"pl-c1\">    Updating crates.io index</span>\n<span class=\"pl-c1\">   Packaging guessing_game v0.1.0 (file:///projects/guessing_game)</span>\n<span class=\"pl-c1\">   Verifying guessing_game v0.1.0 (file:///projects/guessing_game)</span>\n<span class=\"pl-c1\">   Compiling guessing_game v0.1.0</span>\n<span class=\"pl-c1\">(file:///projects/guessing_game/target/package/guessing_game-0.1.0)</span>\n<span class=\"pl-c1\">    Finished dev [unoptimized + debuginfo] target(s) in 0.19s</span>\n<span class=\"pl-c1\">   Uploading guessing_game v0.1.0 (file:///projects/guessing_game)</span></pre></div>\n<p dir=\"auto\">Congratulations! You’ve now shared your code with the Rust community, and\nanyone can easily add your crate as a dependency of their project.</p>\n<h3 tabindex=\"-1\" id=\"user-content-publishing-a-new-version-of-an-existing-crate\" dir=\"auto\"><a class=\"heading-link\" href=\"#publishing-a-new-version-of-an-existing-crate\">Publishing a New Version of an Existing Crate<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">When you’ve made changes to your crate and are ready to release a new version,\nyou change the <code>version</code> value specified in your <em>Cargo.toml</em> file and\nrepublish. Use the <a href=\"http://semver.org/\" rel=\"nofollow\">Semantic Versioning rules</a> to decide what an\nappropriate next version number is based on the kinds of changes you’ve made.\nThen run <code>cargo publish</code> to upload the new version.</p>\n\n<p dir=\"auto\"><a id=\"user-content-removing-versions-from-cratesio-with-cargo-yank\"></a></p>\n<h3 tabindex=\"-1\" id=\"user-content-deprecating-versions-from-cratesio-with-cargo-yank\" dir=\"auto\"><a class=\"heading-link\" href=\"#deprecating-versions-from-cratesio-with-cargo-yank\">Deprecating Versions from Crates.io with <code>cargo yank</code><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">Although you can’t remove previous versions of a crate, you can prevent any\nfuture projects from adding them as a new dependency. This is useful when a\ncrate version is broken for one reason or another. In such situations, Cargo\nsupports <em>yanking</em> a crate version.</p>\n<p dir=\"auto\">Yanking a version prevents new projects from depending on that version while\nallowing all existing projects that depend on it to continue. Essentially, a\nyank means that all projects with a <em>Cargo.lock</em> will not break, and any future\n<em>Cargo.lock</em> files generated will not use the yanked version.</p>\n<p dir=\"auto\">To yank a version of a crate, in the directory of the crate that you’ve\npreviously published, run <code>cargo yank</code> and specify which version you want to\nyank. For example, if we've published a crate named <code>guessing_game</code> version\n1.0.1 and we want to yank it, in the project directory for <code>guessing_game</code> we'd\nrun:</p>\n\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ cargo yank --vers 1.0.1\n    Updating crates.io index\n        Yank guessing_game@1.0.1\"><pre>$ <span class=\"pl-s1\">cargo yank --vers 1.0.1</span>\n<span class=\"pl-c1\">    Updating crates.io index</span>\n<span class=\"pl-c1\">        Yank guessing_game@1.0.1</span></pre></div>\n<p dir=\"auto\">By adding <code>--undo</code> to the command, you can also undo a yank and allow projects\nto start depending on a version again:</p>\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"$ cargo yank --vers 1.0.1 --undo\n    Updating crates.io index\n      Unyank guessing_game@1.0.1\"><pre>$ <span class=\"pl-s1\">cargo yank --vers 1.0.1 --undo</span>\n<span class=\"pl-c1\">    Updating crates.io index</span>\n<span class=\"pl-c1\">      Unyank guessing_game@1.0.1</span></pre></div>\n<p dir=\"auto\">A yank <em>does not</em> delete any code. It cannot, for example, delete accidentally\nuploaded secrets. If that happens, you must reset those secrets immediately.</p>\n</article>","renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"rust-lang","repoName":"book","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":true,"symbols":[]}},"copilotInfo":null,"csrf_tokens":{"/rust-lang/book/branches":{"post":"Kni4gi5ZjjKs9nTOSDHjn_Igb_9k2sev3a57GyBM8BGafhoLj2d97QqkoJk0lv21lpNiQh1fRcA8JrgMngNg9A"},"/repos/preferences":{"post":"VFOYR5klUWNhn-xAGxIWESSPKpX7QHtu_OHGIYFlQONWLjNOM8ZDmwP6Gk6xw87s_9rEfyErpdTFX1ilB7JbwA"}}},"title":"book/src/ch14-02-publishing-to-crates-io.md at main · rust-lang/book"}