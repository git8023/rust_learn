{"payload":{"allShortcutsEnabled":false,"fileTree":{"src":{"items":[{"name":"img","path":"src/img","contentType":"directory"},{"name":"SUMMARY.md","path":"src/SUMMARY.md","contentType":"file"},{"name":"appendix-00.md","path":"src/appendix-00.md","contentType":"file"},{"name":"appendix-01-keywords.md","path":"src/appendix-01-keywords.md","contentType":"file"},{"name":"appendix-02-operators.md","path":"src/appendix-02-operators.md","contentType":"file"},{"name":"appendix-03-derivable-traits.md","path":"src/appendix-03-derivable-traits.md","contentType":"file"},{"name":"appendix-04-useful-development-tools.md","path":"src/appendix-04-useful-development-tools.md","contentType":"file"},{"name":"appendix-05-editions.md","path":"src/appendix-05-editions.md","contentType":"file"},{"name":"appendix-06-translation.md","path":"src/appendix-06-translation.md","contentType":"file"},{"name":"appendix-07-nightly-rust.md","path":"src/appendix-07-nightly-rust.md","contentType":"file"},{"name":"ch00-00-introduction.md","path":"src/ch00-00-introduction.md","contentType":"file"},{"name":"ch01-00-getting-started.md","path":"src/ch01-00-getting-started.md","contentType":"file"},{"name":"ch01-01-installation.md","path":"src/ch01-01-installation.md","contentType":"file"},{"name":"ch01-02-hello-world.md","path":"src/ch01-02-hello-world.md","contentType":"file"},{"name":"ch01-03-hello-cargo.md","path":"src/ch01-03-hello-cargo.md","contentType":"file"},{"name":"ch02-00-guessing-game-tutorial.md","path":"src/ch02-00-guessing-game-tutorial.md","contentType":"file"},{"name":"ch03-00-common-programming-concepts.md","path":"src/ch03-00-common-programming-concepts.md","contentType":"file"},{"name":"ch03-01-variables-and-mutability.md","path":"src/ch03-01-variables-and-mutability.md","contentType":"file"},{"name":"ch03-02-data-types.md","path":"src/ch03-02-data-types.md","contentType":"file"},{"name":"ch03-03-how-functions-work.md","path":"src/ch03-03-how-functions-work.md","contentType":"file"},{"name":"ch03-04-comments.md","path":"src/ch03-04-comments.md","contentType":"file"},{"name":"ch03-05-control-flow.md","path":"src/ch03-05-control-flow.md","contentType":"file"},{"name":"ch04-00-understanding-ownership.md","path":"src/ch04-00-understanding-ownership.md","contentType":"file"},{"name":"ch04-01-what-is-ownership.md","path":"src/ch04-01-what-is-ownership.md","contentType":"file"},{"name":"ch04-02-references-and-borrowing.md","path":"src/ch04-02-references-and-borrowing.md","contentType":"file"},{"name":"ch04-03-slices.md","path":"src/ch04-03-slices.md","contentType":"file"},{"name":"ch05-00-structs.md","path":"src/ch05-00-structs.md","contentType":"file"},{"name":"ch05-01-defining-structs.md","path":"src/ch05-01-defining-structs.md","contentType":"file"},{"name":"ch05-02-example-structs.md","path":"src/ch05-02-example-structs.md","contentType":"file"},{"name":"ch05-03-method-syntax.md","path":"src/ch05-03-method-syntax.md","contentType":"file"},{"name":"ch06-00-enums.md","path":"src/ch06-00-enums.md","contentType":"file"},{"name":"ch06-01-defining-an-enum.md","path":"src/ch06-01-defining-an-enum.md","contentType":"file"},{"name":"ch06-02-match.md","path":"src/ch06-02-match.md","contentType":"file"},{"name":"ch06-03-if-let.md","path":"src/ch06-03-if-let.md","contentType":"file"},{"name":"ch07-00-managing-growing-projects-with-packages-crates-and-modules.md","path":"src/ch07-00-managing-growing-projects-with-packages-crates-and-modules.md","contentType":"file"},{"name":"ch07-01-packages-and-crates.md","path":"src/ch07-01-packages-and-crates.md","contentType":"file"},{"name":"ch07-02-defining-modules-to-control-scope-and-privacy.md","path":"src/ch07-02-defining-modules-to-control-scope-and-privacy.md","contentType":"file"},{"name":"ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","path":"src/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","contentType":"file"},{"name":"ch07-04-bringing-paths-into-scope-with-the-use-keyword.md","path":"src/ch07-04-bringing-paths-into-scope-with-the-use-keyword.md","contentType":"file"},{"name":"ch07-05-separating-modules-into-different-files.md","path":"src/ch07-05-separating-modules-into-different-files.md","contentType":"file"},{"name":"ch08-00-common-collections.md","path":"src/ch08-00-common-collections.md","contentType":"file"},{"name":"ch08-01-vectors.md","path":"src/ch08-01-vectors.md","contentType":"file"},{"name":"ch08-02-strings.md","path":"src/ch08-02-strings.md","contentType":"file"},{"name":"ch08-03-hash-maps.md","path":"src/ch08-03-hash-maps.md","contentType":"file"},{"name":"ch09-00-error-handling.md","path":"src/ch09-00-error-handling.md","contentType":"file"},{"name":"ch09-01-unrecoverable-errors-with-panic.md","path":"src/ch09-01-unrecoverable-errors-with-panic.md","contentType":"file"},{"name":"ch09-02-recoverable-errors-with-result.md","path":"src/ch09-02-recoverable-errors-with-result.md","contentType":"file"},{"name":"ch09-03-to-panic-or-not-to-panic.md","path":"src/ch09-03-to-panic-or-not-to-panic.md","contentType":"file"},{"name":"ch10-00-generics.md","path":"src/ch10-00-generics.md","contentType":"file"},{"name":"ch10-01-syntax.md","path":"src/ch10-01-syntax.md","contentType":"file"},{"name":"ch10-02-traits.md","path":"src/ch10-02-traits.md","contentType":"file"},{"name":"ch10-03-lifetime-syntax.md","path":"src/ch10-03-lifetime-syntax.md","contentType":"file"},{"name":"ch11-00-testing.md","path":"src/ch11-00-testing.md","contentType":"file"},{"name":"ch11-01-writing-tests.md","path":"src/ch11-01-writing-tests.md","contentType":"file"},{"name":"ch11-02-running-tests.md","path":"src/ch11-02-running-tests.md","contentType":"file"},{"name":"ch11-03-test-organization.md","path":"src/ch11-03-test-organization.md","contentType":"file"},{"name":"ch12-00-an-io-project.md","path":"src/ch12-00-an-io-project.md","contentType":"file"},{"name":"ch12-01-accepting-command-line-arguments.md","path":"src/ch12-01-accepting-command-line-arguments.md","contentType":"file"},{"name":"ch12-02-reading-a-file.md","path":"src/ch12-02-reading-a-file.md","contentType":"file"},{"name":"ch12-03-improving-error-handling-and-modularity.md","path":"src/ch12-03-improving-error-handling-and-modularity.md","contentType":"file"},{"name":"ch12-04-testing-the-librarys-functionality.md","path":"src/ch12-04-testing-the-librarys-functionality.md","contentType":"file"},{"name":"ch12-05-working-with-environment-variables.md","path":"src/ch12-05-working-with-environment-variables.md","contentType":"file"},{"name":"ch12-06-writing-to-stderr-instead-of-stdout.md","path":"src/ch12-06-writing-to-stderr-instead-of-stdout.md","contentType":"file"},{"name":"ch13-00-functional-features.md","path":"src/ch13-00-functional-features.md","contentType":"file"},{"name":"ch13-01-closures.md","path":"src/ch13-01-closures.md","contentType":"file"},{"name":"ch13-02-iterators.md","path":"src/ch13-02-iterators.md","contentType":"file"},{"name":"ch13-03-improving-our-io-project.md","path":"src/ch13-03-improving-our-io-project.md","contentType":"file"},{"name":"ch13-04-performance.md","path":"src/ch13-04-performance.md","contentType":"file"},{"name":"ch14-00-more-about-cargo.md","path":"src/ch14-00-more-about-cargo.md","contentType":"file"},{"name":"ch14-01-release-profiles.md","path":"src/ch14-01-release-profiles.md","contentType":"file"},{"name":"ch14-02-publishing-to-crates-io.md","path":"src/ch14-02-publishing-to-crates-io.md","contentType":"file"},{"name":"ch14-03-cargo-workspaces.md","path":"src/ch14-03-cargo-workspaces.md","contentType":"file"},{"name":"ch14-04-installing-binaries.md","path":"src/ch14-04-installing-binaries.md","contentType":"file"},{"name":"ch14-05-extending-cargo.md","path":"src/ch14-05-extending-cargo.md","contentType":"file"},{"name":"ch15-00-smart-pointers.md","path":"src/ch15-00-smart-pointers.md","contentType":"file"},{"name":"ch15-01-box.md","path":"src/ch15-01-box.md","contentType":"file"},{"name":"ch15-02-deref.md","path":"src/ch15-02-deref.md","contentType":"file"},{"name":"ch15-03-drop.md","path":"src/ch15-03-drop.md","contentType":"file"},{"name":"ch15-04-rc.md","path":"src/ch15-04-rc.md","contentType":"file"},{"name":"ch15-05-interior-mutability.md","path":"src/ch15-05-interior-mutability.md","contentType":"file"},{"name":"ch15-06-reference-cycles.md","path":"src/ch15-06-reference-cycles.md","contentType":"file"},{"name":"ch16-00-concurrency.md","path":"src/ch16-00-concurrency.md","contentType":"file"},{"name":"ch16-01-threads.md","path":"src/ch16-01-threads.md","contentType":"file"},{"name":"ch16-02-message-passing.md","path":"src/ch16-02-message-passing.md","contentType":"file"},{"name":"ch16-03-shared-state.md","path":"src/ch16-03-shared-state.md","contentType":"file"},{"name":"ch16-04-extensible-concurrency-sync-and-send.md","path":"src/ch16-04-extensible-concurrency-sync-and-send.md","contentType":"file"},{"name":"ch17-00-oop.md","path":"src/ch17-00-oop.md","contentType":"file"},{"name":"ch17-01-what-is-oo.md","path":"src/ch17-01-what-is-oo.md","contentType":"file"},{"name":"ch17-02-trait-objects.md","path":"src/ch17-02-trait-objects.md","contentType":"file"},{"name":"ch17-03-oo-design-patterns.md","path":"src/ch17-03-oo-design-patterns.md","contentType":"file"},{"name":"ch18-00-patterns.md","path":"src/ch18-00-patterns.md","contentType":"file"},{"name":"ch18-01-all-the-places-for-patterns.md","path":"src/ch18-01-all-the-places-for-patterns.md","contentType":"file"},{"name":"ch18-02-refutability.md","path":"src/ch18-02-refutability.md","contentType":"file"},{"name":"ch18-03-pattern-syntax.md","path":"src/ch18-03-pattern-syntax.md","contentType":"file"},{"name":"ch19-00-advanced-features.md","path":"src/ch19-00-advanced-features.md","contentType":"file"},{"name":"ch19-01-unsafe-rust.md","path":"src/ch19-01-unsafe-rust.md","contentType":"file"},{"name":"ch19-03-advanced-traits.md","path":"src/ch19-03-advanced-traits.md","contentType":"file"},{"name":"ch19-04-advanced-types.md","path":"src/ch19-04-advanced-types.md","contentType":"file"},{"name":"ch19-05-advanced-functions-and-closures.md","path":"src/ch19-05-advanced-functions-and-closures.md","contentType":"file"},{"name":"ch19-06-macros.md","path":"src/ch19-06-macros.md","contentType":"file"},{"name":"ch20-00-final-project-a-web-server.md","path":"src/ch20-00-final-project-a-web-server.md","contentType":"file"},{"name":"ch20-01-single-threaded.md","path":"src/ch20-01-single-threaded.md","contentType":"file"},{"name":"ch20-02-multithreaded.md","path":"src/ch20-02-multithreaded.md","contentType":"file"},{"name":"ch20-03-graceful-shutdown-and-cleanup.md","path":"src/ch20-03-graceful-shutdown-and-cleanup.md","contentType":"file"},{"name":"foreword.md","path":"src/foreword.md","contentType":"file"},{"name":"title-page.md","path":"src/title-page.md","contentType":"file"}],"totalCount":106},"":{"items":[{"name":".cargo","path":".cargo","contentType":"directory"},{"name":".github","path":".github","contentType":"directory"},{"name":"2018-edition","path":"2018-edition","contentType":"directory"},{"name":"ci","path":"ci","contentType":"directory"},{"name":"dot","path":"dot","contentType":"directory"},{"name":"first-edition","path":"first-edition","contentType":"directory"},{"name":"listings","path":"listings","contentType":"directory"},{"name":"nostarch","path":"nostarch","contentType":"directory"},{"name":"redirects","path":"redirects","contentType":"directory"},{"name":"second-edition","path":"second-edition","contentType":"directory"},{"name":"src","path":"src","contentType":"directory"},{"name":"theme","path":"theme","contentType":"directory"},{"name":"tools","path":"tools","contentType":"directory"},{"name":".gitattributes","path":".gitattributes","contentType":"file"},{"name":".gitignore","path":".gitignore","contentType":"file"},{"name":"ADMIN_TASKS.md","path":"ADMIN_TASKS.md","contentType":"file"},{"name":"CONTRIBUTING.md","path":"CONTRIBUTING.md","contentType":"file"},{"name":"COPYRIGHT","path":"COPYRIGHT","contentType":"file"},{"name":"Cargo.lock","path":"Cargo.lock","contentType":"file"},{"name":"Cargo.toml","path":"Cargo.toml","contentType":"file"},{"name":"LICENSE-APACHE","path":"LICENSE-APACHE","contentType":"file"},{"name":"LICENSE-MIT","path":"LICENSE-MIT","contentType":"file"},{"name":"README.md","path":"README.md","contentType":"file"},{"name":"TODO.md","path":"TODO.md","contentType":"file"},{"name":"book.toml","path":"book.toml","contentType":"file"},{"name":"ferris.css","path":"ferris.css","contentType":"file"},{"name":"ferris.js","path":"ferris.js","contentType":"file"},{"name":"rust-toolchain","path":"rust-toolchain","contentType":"file"},{"name":"rustfmt.toml","path":"rustfmt.toml","contentType":"file"},{"name":"style-guide.md","path":"style-guide.md","contentType":"file"}],"totalCount":30}},"fileTreeProcessingTime":19.666162,"foldersToFetch":[],"reducedMotionEnabled":null,"repo":{"id":47854924,"defaultBranch":"main","name":"book","ownerLogin":"rust-lang","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2015-12-11T22:49:49.000Z","ownerAvatar":"https://avatars.githubusercontent.com/u/5430905?v=4","public":true,"private":false,"isOrgOwned":true},"symbolsExpanded":false,"treeExpanded":true,"refInfo":{"name":"main","listCacheKey":"v0:1688046669.0","canEdit":false,"refType":"branch","currentOid":"72187f5cd0beaaa9c6f584156bcd88f921871e83"},"path":"src/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","currentUser":null,"blob":{"rawLines":null,"stylingDirectives":null,"csv":null,"csvError":null,"dependabotInfo":{"showConfigurationBanner":false,"configFilePath":null,"networkDependabotPath":"/rust-lang/book/network/updates","dismissConfigurationNoticePath":"/settings/dismiss-notice/dependabot_configuration_notice","configurationNoticeDismissed":null,"repoAlertsPath":"/rust-lang/book/security/dependabot","repoSecurityAndAnalysisPath":"/rust-lang/book/settings/security_analysis","repoOwnerIsOrg":true,"currentUserCanAdminRepo":false},"displayName":"ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","displayUrl":"https://github.com/rust-lang/book/blob/main/src/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md?raw=true","headerInfo":{"blobSize":"15 KB","deleteInfo":{"deleteTooltip":"You must be signed in to make or propose changes"},"editInfo":{"editTooltip":"You must be signed in to make or propose changes"},"ghDesktopPath":"https://desktop.github.com","gitLfsPath":null,"onBranch":true,"shortPath":"c8fb324","siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2Frust-lang%2Fbook%2Fblob%2Fmain%2Fsrc%2Fch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","isCSV":false,"isRichtext":true,"toc":[{"level":2,"text":"Paths for Referring to an Item in the Module Tree","anchor":"paths-for-referring-to-an-item-in-the-module-tree","htmlText":"Paths for Referring to an Item in the Module Tree"},{"level":3,"text":"Exposing Paths with the pub Keyword","anchor":"exposing-paths-with-the-pub-keyword","htmlText":"Exposing Paths with the pub Keyword"},{"level":4,"text":"Best Practices for Packages with a Binary and a Library","anchor":"best-practices-for-packages-with-a-binary-and-a-library","htmlText":"Best Practices for Packages with a Binary and a Library"},{"level":3,"text":"Starting Relative Paths with super","anchor":"starting-relative-paths-with-super","htmlText":"Starting Relative Paths with super"},{"level":3,"text":"Making Structs and Enums Public","anchor":"making-structs-and-enums-public","htmlText":"Making Structs and Enums Public"}],"lineInfo":{"truncatedLoc":"298","truncatedSloc":"238"},"mode":"file"},"image":false,"isCodeownersFile":null,"isPlain":false,"isValidLegacyIssueTemplate":false,"issueTemplateHelpUrl":"https://docs.github.com/articles/about-issue-and-pull-request-templates","issueTemplate":null,"discussionTemplate":null,"language":"Markdown","languageID":222,"large":false,"loggedIn":false,"newDiscussionPath":"/rust-lang/book/discussions/new","newIssuePath":"/rust-lang/book/issues/new","planSupportInfo":{"repoIsFork":null,"repoOwnedByCurrentUser":null,"requestFullPath":"/rust-lang/book/blob/main/src/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md","showFreeOrgGatedFeatureMessage":null,"showPlanSupportBanner":null,"upgradeDataAttributes":null,"upgradePath":null},"publishBannersInfo":{"dismissActionNoticePath":"/settings/dismiss-notice/publish_action_from_dockerfile","dismissStackNoticePath":"/settings/dismiss-notice/publish_stack_from_file","releasePath":"/rust-lang/book/releases/new?marketplace=true","showPublishActionBanner":false,"showPublishStackBanner":false},"renderImageOrRaw":false,"richText":"<article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h2 tabindex=\"-1\" id=\"user-content-paths-for-referring-to-an-item-in-the-module-tree\" dir=\"auto\"><a class=\"heading-link\" href=\"#paths-for-referring-to-an-item-in-the-module-tree\">Paths for Referring to an Item in the Module Tree<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h2>\n<p dir=\"auto\">To show Rust where to find an item in a module tree, we use a path in the same\nway we use a path when navigating a filesystem. To call a function, we need to\nknow its path.</p>\n<p dir=\"auto\">A path can take two forms:</p>\n<ul dir=\"auto\">\n<li>An <em>absolute path</em> is the full path starting from a crate root; for code\nfrom an external crate, the absolute path begins with the crate name, and for\ncode from the current crate, it starts with the literal <code>crate</code>.</li>\n<li>A <em>relative path</em> starts from the current module and uses <code>self</code>, <code>super</code>, or\nan identifier in the current module.</li>\n</ul>\n<p dir=\"auto\">Both absolute and relative paths are followed by one or more identifiers\nseparated by double colons (<code>::</code>).</p>\n<p dir=\"auto\">Returning to Listing 7-1, say we want to call the <code>add_to_waitlist</code> function.\nThis is the same as asking: what’s the path of the <code>add_to_waitlist</code> function?\nListing 7-3 contains Listing 7-1 with some of the modules and functions\nremoved.</p>\n<p dir=\"auto\">We’ll show two ways to call the <code>add_to_waitlist</code> function from a new function\n<code>eat_at_restaurant</code> defined in the crate root. These paths are correct, but\nthere’s another problem remaining that will prevent this example from compiling\nas-is. We’ll explain why in a bit.</p>\n<p dir=\"auto\">The <code>eat_at_restaurant</code> function is part of our library crate’s public API, so\nwe mark it with the <code>pub</code> keyword. In the <a href=\"/rust-lang/book/blob/main/src/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.html#exposing-paths-with-the-pub-keyword\">“Exposing Paths with the <code>pub</code>\nKeyword”</a> section, we’ll go into more detail about <code>pub</code>.</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-03/src/lib.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch07-managing-growing-projects/listing-<span class=\"pl-c1\">07</span>-<span class=\"pl-c1\">03</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-3: Calling the <code>add_to_waitlist</code> function using\nabsolute and relative paths</span></p>\n<p dir=\"auto\">The first time we call the <code>add_to_waitlist</code> function in <code>eat_at_restaurant</code>,\nwe use an absolute path. The <code>add_to_waitlist</code> function is defined in the same\ncrate as <code>eat_at_restaurant</code>, which means we can use the <code>crate</code> keyword to\nstart an absolute path. We then include each of the successive modules until we\nmake our way to <code>add_to_waitlist</code>. You can imagine a filesystem with the same\nstructure: we’d specify the path <code>/front_of_house/hosting/add_to_waitlist</code> to\nrun the <code>add_to_waitlist</code> program; using the <code>crate</code> name to start from the\ncrate root is like using <code>/</code> to start from the filesystem root in your shell.</p>\n<p dir=\"auto\">The second time we call <code>add_to_waitlist</code> in <code>eat_at_restaurant</code>, we use a\nrelative path. The path starts with <code>front_of_house</code>, the name of the module\ndefined at the same level of the module tree as <code>eat_at_restaurant</code>. Here the\nfilesystem equivalent would be using the path\n<code>front_of_house/hosting/add_to_waitlist</code>. Starting with a module name means\nthat the path is relative.</p>\n<p dir=\"auto\">Choosing whether to use a relative or absolute path is a decision you’ll make\nbased on your project, and depends on whether you’re more likely to move item\ndefinition code separately from or together with the code that uses the item.\nFor example, if we move the <code>front_of_house</code> module and the <code>eat_at_restaurant</code>\nfunction into a module named <code>customer_experience</code>, we’d need to update the\nabsolute path to <code>add_to_waitlist</code>, but the relative path would still be valid.\nHowever, if we moved the <code>eat_at_restaurant</code> function separately into a module\nnamed <code>dining</code>, the absolute path to the <code>add_to_waitlist</code> call would stay the\nsame, but the relative path would need to be updated. Our preference in general\nis to specify absolute paths because it’s more likely we’ll want to move code\ndefinitions and item calls independently of each other.</p>\n<p dir=\"auto\">Let’s try to compile Listing 7-3 and find out why it won’t compile yet! The\nerror we get is shown in Listing 7-4.</p>\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#include ../listings/ch07-managing-growing-projects/listing-07-03/output.txt}}\"><pre><span class=\"pl-c1\">{{#include ../listings/ch07-managing-growing-projects/listing-07-03/output.txt}}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-4: Compiler errors from building the code in\nListing 7-3</span></p>\n<p dir=\"auto\">The error messages say that module <code>hosting</code> is private. In other words, we\nhave the correct paths for the <code>hosting</code> module and the <code>add_to_waitlist</code>\nfunction, but Rust won’t let us use them because it doesn’t have access to the\nprivate sections. In Rust, all items (functions, methods, structs, enums,\nmodules, and constants) are private to parent modules by default. If you want\nto make an item like a function or struct private, you put it in a module.</p>\n<p dir=\"auto\">Items in a parent module can’t use the private items inside child modules, but\nitems in child modules can use the items in their ancestor modules. This is\nbecause child modules wrap and hide their implementation details, but the child\nmodules can see the context in which they’re defined. To continue with our\nmetaphor, think of the privacy rules as being like the back office of a\nrestaurant: what goes on in there is private to restaurant customers, but\noffice managers can see and do everything in the restaurant they operate.</p>\n<p dir=\"auto\">Rust chose to have the module system function this way so that hiding inner\nimplementation details is the default. That way, you know which parts of the\ninner code you can change without breaking outer code. However, Rust does give\nyou the option to expose inner parts of child modules’ code to outer ancestor\nmodules by using the <code>pub</code> keyword to make an item public.</p>\n<h3 tabindex=\"-1\" id=\"user-content-exposing-paths-with-the-pub-keyword\" dir=\"auto\"><a class=\"heading-link\" href=\"#exposing-paths-with-the-pub-keyword\">Exposing Paths with the <code>pub</code> Keyword<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">Let’s return to the error in Listing 7-4 that told us the <code>hosting</code> module is\nprivate. We want the <code>eat_at_restaurant</code> function in the parent module to have\naccess to the <code>add_to_waitlist</code> function in the child module, so we mark the\n<code>hosting</code> module with the <code>pub</code> keyword, as shown in Listing 7-5.</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-05/src/lib.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch07-managing-growing-projects/listing-<span class=\"pl-c1\">07</span>-<span class=\"pl-c1\">05</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-5: Declaring the <code>hosting</code> module as <code>pub</code> to\nuse it from <code>eat_at_restaurant</code></span></p>\n<p dir=\"auto\">Unfortunately, the code in Listing 7-5 still results in an error, as shown in\nListing 7-6.</p>\n<div class=\"highlight highlight-text-shell-session notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#include ../listings/ch07-managing-growing-projects/listing-07-05/output.txt}}\"><pre><span class=\"pl-c1\">{{#include ../listings/ch07-managing-growing-projects/listing-07-05/output.txt}}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-6: Compiler errors from building the code in\nListing 7-5</span></p>\n<p dir=\"auto\">What happened? Adding the <code>pub</code> keyword in front of <code>mod hosting</code> makes the\nmodule public. With this change, if we can access <code>front_of_house</code>, we can\naccess <code>hosting</code>. But the <em>contents</em> of <code>hosting</code> are still private; making the\nmodule public doesn’t make its contents public. The <code>pub</code> keyword on a module\nonly lets code in its ancestor modules refer to it, not access its inner code.\nBecause modules are containers, there’s not much we can do by only making the\nmodule public; we need to go further and choose to make one or more of the\nitems within the module public as well.</p>\n<p dir=\"auto\">The errors in Listing 7-6 say that the <code>add_to_waitlist</code> function is private.\nThe privacy rules apply to structs, enums, functions, and methods as well as\nmodules.</p>\n<p dir=\"auto\">Let’s also make the <code>add_to_waitlist</code> function public by adding the <code>pub</code>\nkeyword before its definition, as in Listing 7-7.</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-07/src/lib.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch07-managing-growing-projects/listing-<span class=\"pl-c1\">07</span>-<span class=\"pl-c1\">07</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-7: Adding the <code>pub</code> keyword to <code>mod hosting</code>\nand <code>fn add_to_waitlist</code> lets us call the function from\n<code>eat_at_restaurant</code></span></p>\n<p dir=\"auto\">Now the code will compile! To see why adding the <code>pub</code> keyword lets us use\nthese paths in <code>add_to_waitlist</code> with respect to the privacy rules, let’s look\nat the absolute and the relative paths.</p>\n<p dir=\"auto\">In the absolute path, we start with <code>crate</code>, the root of our crate’s module\ntree. The <code>front_of_house</code> module is defined in the crate root. While\n<code>front_of_house</code> isn’t public, because the <code>eat_at_restaurant</code> function is\ndefined in the same module as <code>front_of_house</code> (that is, <code>eat_at_restaurant</code>\nand <code>front_of_house</code> are siblings), we can refer to <code>front_of_house</code> from\n<code>eat_at_restaurant</code>. Next is the <code>hosting</code> module marked with <code>pub</code>. We can\naccess the parent module of <code>hosting</code>, so we can access <code>hosting</code>. Finally, the\n<code>add_to_waitlist</code> function is marked with <code>pub</code> and we can access its parent\nmodule, so this function call works!</p>\n<p dir=\"auto\">In the relative path, the logic is the same as the absolute path except for the\nfirst step: rather than starting from the crate root, the path starts from\n<code>front_of_house</code>. The <code>front_of_house</code> module is defined within the same module\nas <code>eat_at_restaurant</code>, so the relative path starting from the module in which\n<code>eat_at_restaurant</code> is defined works. Then, because <code>hosting</code> and\n<code>add_to_waitlist</code> are marked with <code>pub</code>, the rest of the path works, and this\nfunction call is valid!</p>\n<p dir=\"auto\">If you plan on sharing your library crate so other projects can use your code,\nyour public API is your contract with users of your crate that determines how\nthey can interact with your code. There are many considerations around managing\nchanges to your public API to make it easier for people to depend on your\ncrate. These considerations are out of the scope of this book; if you’re\ninterested in this topic, see <a href=\"https://rust-lang.github.io/api-guidelines/\" rel=\"nofollow\">The Rust API Guidelines</a>.</p>\n<blockquote>\n<h4 tabindex=\"-1\" id=\"user-content-best-practices-for-packages-with-a-binary-and-a-library\" dir=\"auto\"><a class=\"heading-link\" href=\"#best-practices-for-packages-with-a-binary-and-a-library\">Best Practices for Packages with a Binary and a Library<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h4>\n<p dir=\"auto\">We mentioned a package can contain both a <em>src/main.rs</em> binary crate root as\nwell as a <em>src/lib.rs</em> library crate root, and both crates will have the\npackage name by default. Typically, packages with this pattern of containing\nboth a library and a binary crate will have just enough code in the binary\ncrate to start an executable that calls code with the library crate. This\nlets other projects benefit from the most functionality that the package\nprovides, because the library crate’s code can be shared.</p>\n<p dir=\"auto\">The module tree should be defined in <em>src/lib.rs</em>. Then, any public items can\nbe used in the binary crate by starting paths with the name of the package.\nThe binary crate becomes a user of the library crate just like a completely\nexternal crate would use the library crate: it can only use the public API.\nThis helps you design a good API; not only are you the author, you’re also a\nclient!</p>\n<p dir=\"auto\">In <a href=\"/rust-lang/book/blob/main/src/ch12-00-an-io-project.html\">Chapter 12</a>, we’ll demonstrate this organizational\npractice with a command-line program that will contain both a binary crate\nand a library crate.</p>\n</blockquote>\n<h3 tabindex=\"-1\" id=\"user-content-starting-relative-paths-with-super\" dir=\"auto\"><a class=\"heading-link\" href=\"#starting-relative-paths-with-super\">Starting Relative Paths with <code>super</code><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">We can construct relative paths that begin in the parent module, rather than\nthe current module or the crate root, by using <code>super</code> at the start of the\npath. This is like starting a filesystem path with the <code>..</code> syntax. Using\n<code>super</code> allows us to reference an item that we know is in the parent module,\nwhich can make rearranging the module tree easier when the module is closely\nrelated to the parent, but the parent might be moved elsewhere in the module\ntree someday.</p>\n<p dir=\"auto\">Consider the code in Listing 7-8 that models the situation in which a chef\nfixes an incorrect order and personally brings it out to the customer. The\nfunction <code>fix_incorrect_order</code> defined in the <code>back_of_house</code> module calls the\nfunction <code>deliver_order</code> defined in the parent module by specifying the path to\n<code>deliver_order</code> starting with <code>super</code>:</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-08/src/lib.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch07-managing-growing-projects/listing-<span class=\"pl-c1\">07</span>-<span class=\"pl-c1\">08</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-8: Calling a function using a relative path\nstarting with <code>super</code></span></p>\n<p dir=\"auto\">The <code>fix_incorrect_order</code> function is in the <code>back_of_house</code> module, so we can\nuse <code>super</code> to go to the parent module of <code>back_of_house</code>, which in this case\nis <code>crate</code>, the root. From there, we look for <code>deliver_order</code> and find it.\nSuccess! We think the <code>back_of_house</code> module and the <code>deliver_order</code> function\nare likely to stay in the same relationship to each other and get moved\ntogether should we decide to reorganize the crate’s module tree. Therefore, we\nused <code>super</code> so we’ll have fewer places to update code in the future if this\ncode gets moved to a different module.</p>\n<h3 tabindex=\"-1\" id=\"user-content-making-structs-and-enums-public\" dir=\"auto\"><a class=\"heading-link\" href=\"#making-structs-and-enums-public\">Making Structs and Enums Public<svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a></h3>\n<p dir=\"auto\">We can also use <code>pub</code> to designate structs and enums as public, but there are a\nfew details extra to the usage of <code>pub</code> with structs and enums. If we use <code>pub</code>\nbefore a struct definition, we make the struct public, but the struct’s fields\nwill still be private. We can make each field public or not on a case-by-case\nbasis. In Listing 7-9, we’ve defined a public <code>back_of_house::Breakfast</code> struct\nwith a public <code>toast</code> field but a private <code>seasonal_fruit</code> field. This models\nthe case in a restaurant where the customer can pick the type of bread that\ncomes with a meal, but the chef decides which fruit accompanies the meal based\non what’s in season and in stock. The available fruit changes quickly, so\ncustomers can’t choose the fruit or even see which fruit they’ll get.</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-09/src/lib.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch07-managing-growing-projects/listing-<span class=\"pl-c1\">07</span>-<span class=\"pl-c1\">09</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-9: A struct with some public fields and some\nprivate fields</span></p>\n<p dir=\"auto\">Because the <code>toast</code> field in the <code>back_of_house::Breakfast</code> struct is public,\nin <code>eat_at_restaurant</code> we can write and read to the <code>toast</code> field using dot\nnotation. Notice that we can’t use the <code>seasonal_fruit</code> field in\n<code>eat_at_restaurant</code> because <code>seasonal_fruit</code> is private. Try uncommenting the\nline modifying the <code>seasonal_fruit</code> field value to see what error you get!</p>\n<p dir=\"auto\">Also, note that because <code>back_of_house::Breakfast</code> has a private field, the\nstruct needs to provide a public associated function that constructs an\ninstance of <code>Breakfast</code> (we’ve named it <code>summer</code> here). If <code>Breakfast</code> didn’t\nhave such a function, we couldn’t create an instance of <code>Breakfast</code> in\n<code>eat_at_restaurant</code> because we couldn’t set the value of the private\n<code>seasonal_fruit</code> field in <code>eat_at_restaurant</code>.</p>\n<p dir=\"auto\">In contrast, if we make an enum public, all of its variants are then public. We\nonly need the <code>pub</code> before the <code>enum</code> keyword, as shown in Listing 7-10.</p>\n<p dir=\"auto\"><span>Filename: src/lib.rs</span></p>\n<div class=\"highlight highlight-source-rust notranslate position-relative overflow-auto\" dir=\"auto\" data-snippet-clipboard-copy-content=\"{{#rustdoc_include ../listings/ch07-managing-growing-projects/listing-07-10/src/lib.rs}}\"><pre><span class=\"pl-kos\">{</span><span class=\"pl-kos\">{</span>#rustdoc_include ../listings/ch07-managing-growing-projects/listing-<span class=\"pl-c1\">07</span>-<span class=\"pl-c1\">10</span>/src/lib<span class=\"pl-kos\">.</span><span class=\"pl-c1\">rs</span><span class=\"pl-kos\">}</span><span class=\"pl-kos\">}</span></pre></div>\n<p dir=\"auto\"><span>Listing 7-10: Designating an enum as public makes all its\nvariants public</span></p>\n<p dir=\"auto\">Because we made the <code>Appetizer</code> enum public, we can use the <code>Soup</code> and <code>Salad</code>\nvariants in <code>eat_at_restaurant</code>.</p>\n<p dir=\"auto\">Enums aren’t very useful unless their variants are public; it would be annoying\nto have to annotate all enum variants with <code>pub</code> in every case, so the default\nfor enum variants is to be public. Structs are often useful without their\nfields being public, so struct fields follow the general rule of everything\nbeing private by default unless annotated with <code>pub</code>.</p>\n<p dir=\"auto\">There’s one more situation involving <code>pub</code> that we haven’t covered, and that is\nour last module system feature: the <code>use</code> keyword. We’ll cover <code>use</code> by itself\nfirst, and then we’ll show how to combine <code>pub</code> and <code>use</code>.</p>\n</article>","renderedFileInfo":null,"shortPath":null,"tabSize":8,"topBannersInfo":{"overridingGlobalFundingFile":false,"globalPreferredFundingPath":null,"repoOwner":"rust-lang","repoName":"book","showInvalidCitationWarning":false,"citationHelpUrl":"https://docs.github.com/en/github/creating-cloning-and-archiving-repositories/creating-a-repository-on-github/about-citation-files","showDependabotConfigurationBanner":false,"actionsOnboardingTip":null},"truncated":false,"viewable":true,"workflowRedirectUrl":null,"symbols":{"timedOut":false,"notAnalyzed":true,"symbols":[]}},"copilotInfo":null,"csrf_tokens":{"/rust-lang/book/branches":{"post":"rJOMPiAFEx-Kio48poh8LTVjXfwtZ3dhWgUmDQS8AsaHn7zeQXmTC0--8X1IXg6HdqVF30-_yp6hpqPOilwdbg"},"/repos/preferences":{"post":"fn1BSOkoLOzoC6WMOpurzL-zpBkCDx4oS_nwtYeBHMu-I8xLvpHc9ub1Ujp7fXy6ocVE1EKZvL-P6WD83JvA2Q"}}},"title":"book/src/ch07-03-paths-for-referring-to-an-item-in-the-module-tree.md at main · rust-lang/book"}